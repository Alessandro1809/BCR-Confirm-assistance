---

---

<section class="confirmation-section max-w-4xl mx-auto px-4">
    <h2 class="text-xl md:text-3xl font-semibold mt-12 text-center">Confirma tu asistencia antes del 24 de junio para poder organizar todo con la atención que te mereces.</h2>

    <div class="flex md:flex-row flex-col justify-center items-center gap-6 md:gap-10 mt-8 md:mt-12 pb-12 md:pb-20">
        <button 
            id="confirmarBtn" 
            class="w-full md:w-auto bg-gradient-to-r from-secondary to-tertiary text-white px-6 md:px-8 py-3 rounded-md hover:cursor-pointer hover:opacity-90 transition-all duration-300"
        >
            Confirmar asistencia
        </button>
        <button 
            id="rechazarBtn" 
            class="w-full md:w-auto bg-quaternary text-white px-6 md:px-8 py-3 rounded-md hover:cursor-pointer hover:opacity-90 transition-all duration-300"
        >
            Rechazar invitación
        </button>
    </div>
</section>

<!-- Modal de Confirmación -->
<dialog id="modalConfirmar" class="fixed inset-0 w-screen h-screen bg-black/30 backdrop-blur-sm invisible opacity-0 flex items-center justify-center z-50 transition-all duration-300 m-0 p-0">
    <article class="bg-white p-6 md:p-8 rounded-lg shadow-xl max-w-lg w-[90%] md:w-full mx-4 scale-95 opacity-0 transition-all duration-300" id="modalConfirmarContent">
        <div class="text-center">
            <h3 class="text-xl md:text-2xl font-bold bg-gradient-to-r from-secondary to-tertiary text-transparent bg-clip-text mb-4">¡Gracias por confirmar tu asistencia!</h3>
            <p class="text-gray-700 text-base md:text-lg mb-6">Nos alegra saber que contararemos contigo en esta velada tan especial. Tu presencia es muy importante para nosotros.</p>
            <h4 class="text-lg md:text-xl font-bold bg-gradient-to-r from-secondary to-tertiary text-transparent bg-clip-text mb-4">¡Te esperamos el 26 de junio a las 6:00 pm en el BCR Cañas!</h4>
            <button 
                class="cerrarModal bg-gradient-to-r from-secondary to-tertiary text-white px-6 md:px-8 py-2 md:py-3 rounded-md hover:opacity-90 transition-all duration-300"
                aria-label="Cerrar modal de confirmación"
            >
                Cerrar
            </button>
        </div>
    </article>
</dialog>

<!-- Modal de Rechazo -->
<dialog id="modalRechazar" class="fixed inset-0 w-screen h-screen bg-black/30 backdrop-blur-sm invisible opacity-0 flex items-center justify-center z-50 transition-all duration-300 m-0 p-0">
    <article class="bg-white p-6 md:p-8 rounded-lg shadow-xl max-w-lg w-[90%] md:w-full mx-4 scale-95 opacity-0 transition-all duration-300" id="modalRechazarContent">
        <div class="text-center">
            <h3 class="text-xl md:text-2xl font-bold text-quaternary mb-4">Gracias por tu respuesta</h3>
            <p class="text-gray-700 text-base md:text-lg mb-6">Lamentamos que no puedas acompañarnos en esta ocasión, pero agradecemos que nos hayas informado. Esperamos poder compartir contigo en futuros eventos.</p>
            <h4 class="text-lg md:text-xl font-bold bg-gradient-to-r from-secondary to-tertiary text-transparent bg-clip-text mb-4">Recuerda que puedes contactarnos en cualquier momento.</h4>
            <button 
                class="cerrarModal bg-quaternary text-white px-6 md:px-8 py-2 md:py-3 rounded-md hover:opacity-90 transition-all duration-300"
                aria-label="Cerrar modal de rechazo"
            >
                Cerrar
            </button>
        </div>
    </article>
</dialog>

<script>
    // Obtener referencias a los elementos
    const confirmarBtn = document.getElementById('confirmarBtn');
    const rechazarBtn = document.getElementById('rechazarBtn');
    const modalConfirmar = document.getElementById('modalConfirmar');
    const modalRechazar = document.getElementById('modalRechazar');
    const modalConfirmarContent = document.getElementById('modalConfirmarContent');
    const modalRechazarContent = document.getElementById('modalRechazarContent');
    const botonesModal = document.querySelectorAll('.cerrarModal');

    // Función para mostrar modal
    function mostrarModal(modal: HTMLElement | null, modalContent: HTMLElement | null): void {
        if (modal && modalContent) {
            modal.classList.remove('invisible', 'opacity-0');
            // Pequeño delay para la animación del contenido
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 150);
            document.body.style.overflow = 'hidden';
        }
    }

    // Función para cerrar modal
    function cerrarModal(modal: HTMLElement | null, modalContent: HTMLElement | null): void {
        if (modal && modalContent) {
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('invisible', 'opacity-0');
            }, 150);
            document.body.style.overflow = 'auto';
        }
    }

    // Event listeners para los botones principales
    if (confirmarBtn && modalConfirmar && modalConfirmarContent) {
        confirmarBtn.addEventListener('click', () => mostrarModal(modalConfirmar, modalConfirmarContent));
    }
    
    if (rechazarBtn && modalRechazar && modalRechazarContent) {
        rechazarBtn.addEventListener('click', () => mostrarModal(modalRechazar, modalRechazarContent));
    }

    // Event listeners para cerrar los modales
    botonesModal.forEach(boton => {
        boton.addEventListener('click', () => {
            cerrarModal(modalConfirmar, modalConfirmarContent);
            cerrarModal(modalRechazar, modalRechazarContent);
        });
    });

    // Cerrar modal al hacer clic fuera
    window.addEventListener('click', (e) => {
        if (e.target === modalConfirmar) cerrarModal(modalConfirmar, modalConfirmarContent);
        if (e.target === modalRechazar) cerrarModal(modalRechazar, modalRechazarContent);
    });

    // Manejar tecla Escape
    window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            cerrarModal(modalConfirmar, modalConfirmarContent);
            cerrarModal(modalRechazar, modalRechazarContent);
        }
    });
</script>
